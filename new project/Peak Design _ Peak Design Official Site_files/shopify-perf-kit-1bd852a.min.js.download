!function(){"use strict";var e,t,n,r=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},a=function(e){if("loading"===document.readyState)return"loading";var t=r();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},i=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},s=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,a=r.id?"#"+r.id:i(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+a.length>(t||100)-1)return n||a;if(n=n?a+">"+n:a,r.id)break;e=r.parentNode}}catch(e){}return n},o=-1,d=function(){return o},u=function(e){addEventListener("pageshow",(function(t){t.persisted&&(o=t.timeStamp,e(t))}),!0)},c=function(){var e=r();return e&&e.activationStart||0},l=function(e,t){var n=r(),a="navigate";return d()>=0?a="back-forward-cache":n&&(document.prerendering||c()>0?a="prerender":document.wasDiscarded?a="restore":n.type&&(a=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:a}},h=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},p=function(e,t,n,r){var a,i;return function(s){t.value>=0&&(s||r)&&((i=t.value-(a||0))||void 0===a)&&(a=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},m=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},f=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},v=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},g=-1,_=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},y=function(e){"hidden"===document.visibilityState&&g>-1&&(g="visibilitychange"===e.type?e.timeStamp:0,x())},k=function(){addEventListener("visibilitychange",y,!0),addEventListener("prerenderingchange",y,!0)},x=function(){removeEventListener("visibilitychange",y,!0),removeEventListener("prerenderingchange",y,!0)},b=function(){return g<0&&(g=_(),k(),u((function(){setTimeout((function(){g=_(),k()}),0)}))),{get firstHiddenTime(){return g}}},w=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},T=[1800,3e3],S=function(e,t){t=t||{},w((function(){var n,r=b(),a=l("FCP"),i=h("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(a.value=Math.max(e.startTime-c(),0),a.entries.push(e),n(!0)))}))}));i&&(n=p(e,a,T,t.reportAllChanges),u((function(r){a=l("FCP"),n=p(e,a,T,t.reportAllChanges),m((function(){a.value=performance.now()-r.timeStamp,n(!0)}))})))}))},C=[.1,.25],E=0,O=1/0,Z=0,I=function(e){e.forEach((function(e){e.interactionId&&(O=Math.min(O,e.interactionId),Z=Math.max(Z,e.interactionId),E=Z?(Z-O)/7+1:0)}))},N=function(){return e?E:performance.interactionCount||0},P=function(){"interactionCount"in performance||e||(e=h("event",I,{type:"event",buffered:!0,durationThreshold:0}))},j=[200,500],M=0,R=function(){return N()-M},L=[],A={},$=function(e){var t=L[L.length-1],n=A[e.interactionId];if(n||L.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};A[r.id]=r,L.push(r)}L.sort((function(e,t){return t.latency-e.latency})),L.splice(10).forEach((function(e){delete A[e.id]}))}},D=[2500,4e3],z={};!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(t||(t={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(n||(n={}));const B=t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),V=e=>{switch(typeof e){case"undefined":return B.undefined;case"string":return B.string;case"number":return isNaN(e)?B.nan:B.number;case"boolean":return B.boolean;case"function":return B.function;case"bigint":return B.bigint;case"symbol":return B.symbol;case"object":return Array.isArray(e)?B.array:null===e?B.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?B.promise:"undefined"!=typeof Map&&e instanceof Map?B.map:"undefined"!=typeof Set&&e instanceof Set?B.set:"undefined"!=typeof Date&&e instanceof Date?B.date:B.object;default:return B.unknown}},U=t.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class F extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof F))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,t.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}F.create=e=>new F(e);const K=(e,n)=>{let r;switch(e.code){case U.invalid_type:r=e.received===B.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case U.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,t.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:r=`Unrecognized key(s) in object: ${t.joinValues(e.keys,", ")}`;break;case U.invalid_union:r="Invalid input";break;case U.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${t.joinValues(e.options)}`;break;case U.invalid_enum_value:r=`Invalid enum value. Expected ${t.joinValues(e.options)}, received '${e.received}'`;break;case U.invalid_arguments:r="Invalid function arguments";break;case U.invalid_return_type:r="Invalid function return type";break;case U.invalid_date:r="Invalid date";break;case U.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:t.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case U.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case U.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case U.custom:r="Invalid input";break;case U.invalid_intersection_types:r="Intersection results could not be merged";break;case U.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case U.not_finite:r="Number must be finite";break;default:r=n.defaultError,t.assertNever(e)}return{message:r}};let q=K;function W(){return q}const H=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],s={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let o="";const d=r.filter((e=>!!e)).slice().reverse();for(const e of d)o=e(s,{data:t,defaultError:o}).message;return{...a,path:i,message:o}};function J(e,t){const n=W(),r=H({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===K?void 0:K].filter((e=>!!e))});e.common.issues.push(r)}class Y{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return G;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return Y.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return G;if("aborted"===a.status)return G;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||void 0===a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const G=Object.freeze({status:"aborted"}),X=e=>({status:"dirty",value:e}),Q=e=>({status:"valid",value:e}),ee=e=>"aborted"===e.status,te=e=>"dirty"===e.status,ne=e=>"valid"===e.status,re=e=>"undefined"!=typeof Promise&&e instanceof Promise;function ae(e,t,n,r){if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function ie(e,t,n,r,a){if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var se,oe,de;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(se||(se={}));class ue{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ce=(e,t)=>{if(ne(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new F(e.common.issues);return this._error=t,this._error}}};function le(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var i,s;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:a.defaultError}:void 0===a.data?{message:null!==(i=null!=o?o:r)&&void 0!==i?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(s=null!=o?o:n)&&void 0!==s?s:a.defaultError}},description:a}}class he{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return V(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:V(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Y,ctx:{common:e.parent.common,data:e.data,parsedType:V(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(re(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:V(e)},a=this._parseSync({data:e,path:r.path,parent:r});return ce(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:V(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(re(r)?r:Promise.resolve(r));return ce(n,a)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),i=()=>r.addIssue({code:U.custom,...n(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new rt({schema:this,typeName:ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return at.create(this,this._def)}nullable(){return it.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ve.create(this,this._def)}promise(){return nt.create(this,this._def)}or(e){return Ke.create([this,e],this._def)}and(e){return We.create(this,e,this._def)}transform(e){return new rt({...le(this._def),schema:this,typeName:ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new st({...le(this._def),innerType:this,defaultValue:t,typeName:ht.ZodDefault})}brand(){return new ut({typeName:ht.ZodBranded,type:this,...le(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ot({...le(this._def),innerType:this,catchValue:t,typeName:ht.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ct.create(this,e)}readonly(){return lt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pe=/^c[^\s-]{8,}$/i,me=/^[0-9a-z]+$/,fe=/^[0-9A-HJKMNP-TV-Z]{26}$/,ve=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ge=/^[a-z0-9_-]{21}$/i,_e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ye=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let ke;const xe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,be=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,we=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Te="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Se=new RegExp(`^${Te}$`);function Ce(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function Ee(e){let t=`${Te}T${Ce(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Oe(e,t){return!("v4"!==t&&t||!xe.test(e))||!("v6"!==t&&t||!be.test(e))}class Ze extends he{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==B.string){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.string,received:t.parsedType}),G}const n=new Y;let r;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),J(r,{code:U.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if("max"===a.kind)e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),J(r,{code:U.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if("length"===a.kind){const t=e.data.length>a.value,i=e.data.length<a.value;(t||i)&&(r=this._getOrReturnCtx(e,r),t?J(r,{code:U.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&J(r,{code:U.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if("email"===a.kind)ye.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"email",code:U.invalid_string,message:a.message}),n.dirty());else if("emoji"===a.kind)ke||(ke=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ke.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"emoji",code:U.invalid_string,message:a.message}),n.dirty());else if("uuid"===a.kind)ve.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"uuid",code:U.invalid_string,message:a.message}),n.dirty());else if("nanoid"===a.kind)ge.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"nanoid",code:U.invalid_string,message:a.message}),n.dirty());else if("cuid"===a.kind)pe.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"cuid",code:U.invalid_string,message:a.message}),n.dirty());else if("cuid2"===a.kind)me.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"cuid2",code:U.invalid_string,message:a.message}),n.dirty());else if("ulid"===a.kind)fe.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"ulid",code:U.invalid_string,message:a.message}),n.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(t){r=this._getOrReturnCtx(e,r),J(r,{validation:"url",code:U.invalid_string,message:a.message}),n.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"regex",code:U.invalid_string,message:a.message}),n.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),J(r,{code:U.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),J(r,{code:U.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),J(r,{code:U.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty());else if("datetime"===a.kind){Ee(a).test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:U.invalid_string,validation:"datetime",message:a.message}),n.dirty())}else if("date"===a.kind){Se.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:U.invalid_string,validation:"date",message:a.message}),n.dirty())}else if("time"===a.kind){new RegExp(`^${Ce(a)}$`).test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:U.invalid_string,validation:"time",message:a.message}),n.dirty())}else"duration"===a.kind?_e.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"duration",code:U.invalid_string,message:a.message}),n.dirty()):"ip"===a.kind?Oe(e.data,a.version)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"ip",code:U.invalid_string,message:a.message}),n.dirty()):"base64"===a.kind?we.test(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{validation:"base64",code:U.invalid_string,message:a.message}),n.dirty()):t.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:U.invalid_string,...se.errToObj(n)})}_addCheck(e){return new Ze({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...se.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...se.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...se.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...se.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...se.errToObj(t)})}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new Ze({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ze({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ze({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ie(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}Ze.create=e=>{var t;return new Ze({checks:[],typeName:ht.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...le(e)})};class Ne extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==B.number){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.number,received:t.parsedType}),G}let n;const r=new Y;for(const a of this._def.checks)if("int"===a.kind)t.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),J(n,{code:U.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty());else if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),J(n,{code:U.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),J(n,{code:U.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty())}else"multipleOf"===a.kind?0!==Ie(e.data,a.value)&&(n=this._getOrReturnCtx(e,n),J(n,{code:U.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),J(n,{code:U.not_finite,message:a.message}),r.dirty()):t.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,n,r){return new Ne({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:se.toString(r)}]})}_addCheck(e){return new Ne({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&t.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ne.create=e=>new Ne({checks:[],typeName:ht.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...le(e)});class Pe extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==B.bigint){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.bigint,received:t.parsedType}),G}let n;const r=new Y;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),J(n,{code:U.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),J(n,{code:U.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),J(n,{code:U.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):t.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,se.toString(t))}setLimit(e,t,n,r){return new Pe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:se.toString(r)}]})}_addCheck(e){return new Pe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Pe.create=e=>{var t;return new Pe({checks:[],typeName:ht.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...le(e)})};class je extends he{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==B.boolean){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.boolean,received:t.parsedType}),G}return Q(e.data)}}je.create=e=>new je({typeName:ht.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...le(e)});class Me extends he{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==B.date){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.date,received:t.parsedType}),G}if(isNaN(e.data.getTime())){return J(this._getOrReturnCtx(e),{code:U.invalid_date}),G}const n=new Y;let r;for(const a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(r=this._getOrReturnCtx(e,r),J(r,{code:U.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(r=this._getOrReturnCtx(e,r),J(r,{code:U.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):t.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Me({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Me.create=e=>new Me({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:ht.ZodDate,...le(e)});class Re extends he{_parse(e){if(this._getType(e)!==B.symbol){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.symbol,received:t.parsedType}),G}return Q(e.data)}}Re.create=e=>new Re({typeName:ht.ZodSymbol,...le(e)});class Le extends he{_parse(e){if(this._getType(e)!==B.undefined){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.undefined,received:t.parsedType}),G}return Q(e.data)}}Le.create=e=>new Le({typeName:ht.ZodUndefined,...le(e)});class Ae extends he{_parse(e){if(this._getType(e)!==B.null){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.null,received:t.parsedType}),G}return Q(e.data)}}Ae.create=e=>new Ae({typeName:ht.ZodNull,...le(e)});class $e extends he{constructor(){super(...arguments),this._any=!0}_parse(e){return Q(e.data)}}$e.create=e=>new $e({typeName:ht.ZodAny,...le(e)});class De extends he{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Q(e.data)}}De.create=e=>new De({typeName:ht.ZodUnknown,...le(e)});class ze extends he{_parse(e){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.never,received:t.parsedType}),G}}ze.create=e=>new ze({typeName:ht.ZodNever,...le(e)});class Be extends he{_parse(e){if(this._getType(e)!==B.undefined){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.void,received:t.parsedType}),G}return Q(e.data)}}Be.create=e=>new Be({typeName:ht.ZodVoid,...le(e)});class Ve extends he{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==B.array)return J(t,{code:U.invalid_type,expected:B.array,received:t.parsedType}),G;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(J(t,{code:e?U.too_big:U.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(J(t,{code:U.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(J(t,{code:U.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new ue(t,e,t.path,n))))).then((e=>Y.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new ue(t,e,t.path,n))));return Y.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new Ve({...this._def,minLength:{value:e,message:se.toString(t)}})}max(e,t){return new Ve({...this._def,maxLength:{value:e,message:se.toString(t)}})}length(e,t){return new Ve({...this._def,exactLength:{value:e,message:se.toString(t)}})}nonempty(e){return this.min(1,e)}}function Ue(e){if(e instanceof Fe){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=at.create(Ue(r))}return new Fe({...e._def,shape:()=>t})}return e instanceof Ve?new Ve({...e._def,type:Ue(e.element)}):e instanceof at?at.create(Ue(e.unwrap())):e instanceof it?it.create(Ue(e.unwrap())):e instanceof He?He.create(e.items.map((e=>Ue(e)))):e}Ve.create=(e,t)=>new Ve({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ht.ZodArray,...le(t)});class Fe extends he{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),n=t.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==B.object){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.object,received:t.parsedType}),G}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof ze&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||i.push(e);const s=[];for(const e of a){const t=r[e],a=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new ue(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof ze){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(J(n,{code:U.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new ue(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>Y.mergeObjectSync(t,e))):Y.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new Fe({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,a,i,s;const o=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=se.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new Fe({...this._def,unknownKeys:"strip"})}passthrough(){return new Fe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Fe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Fe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ht.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Fe({...this._def,catchall:e})}pick(e){const n={};return t.objectKeys(e).forEach((t=>{e[t]&&this.shape[t]&&(n[t]=this.shape[t])})),new Fe({...this._def,shape:()=>n})}omit(e){const n={};return t.objectKeys(this.shape).forEach((t=>{e[t]||(n[t]=this.shape[t])})),new Fe({...this._def,shape:()=>n})}deepPartial(){return Ue(this)}partial(e){const n={};return t.objectKeys(this.shape).forEach((t=>{const r=this.shape[t];e&&!e[t]?n[t]=r:n[t]=r.optional()})),new Fe({...this._def,shape:()=>n})}required(e){const n={};return t.objectKeys(this.shape).forEach((t=>{if(e&&!e[t])n[t]=this.shape[t];else{let e=this.shape[t];for(;e instanceof at;)e=e._def.innerType;n[t]=e}})),new Fe({...this._def,shape:()=>n})}keyof(){return Qe(t.objectKeys(this.shape))}}Fe.create=(e,t)=>new Fe({shape:()=>e,unknownKeys:"strip",catchall:ze.create(),typeName:ht.ZodObject,...le(t)}),Fe.strictCreate=(e,t)=>new Fe({shape:()=>e,unknownKeys:"strict",catchall:ze.create(),typeName:ht.ZodObject,...le(t)}),Fe.lazycreate=(e,t)=>new Fe({shape:e,unknownKeys:"strip",catchall:ze.create(),typeName:ht.ZodObject,...le(t)});class Ke extends he{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new F(e.ctx.common.issues)));return J(t,{code:U.invalid_union,unionErrors:n}),G}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new F(e)));return J(t,{code:U.invalid_union,unionErrors:a}),G}}get options(){return this._def.options}}Ke.create=(e,t)=>new Ke({options:e,typeName:ht.ZodUnion,...le(t)});function qe(e,n){const r=V(e),a=V(n);if(e===n)return{valid:!0,data:e};if(r===B.object&&a===B.object){const r=t.objectKeys(n),a=t.objectKeys(e).filter((e=>-1!==r.indexOf(e))),i={...e,...n};for(const t of a){const r=qe(e[t],n[t]);if(!r.valid)return{valid:!1};i[t]=r.data}return{valid:!0,data:i}}if(r===B.array&&a===B.array){if(e.length!==n.length)return{valid:!1};const t=[];for(let r=0;r<e.length;r++){const a=qe(e[r],n[r]);if(!a.valid)return{valid:!1};t.push(a.data)}return{valid:!0,data:t}}return r===B.date&&a===B.date&&+e==+n?{valid:!0,data:e}:{valid:!1}}class We extends he{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(ee(e)||ee(r))return G;const a=qe(e.value,r.value);return a.valid?((te(e)||te(r))&&t.dirty(),{status:t.value,value:a.data}):(J(n,{code:U.invalid_intersection_types}),G)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}We.create=(e,t,n)=>new We({left:e,right:t,typeName:ht.ZodIntersection,...le(n)});class He extends he{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==B.array)return J(n,{code:U.invalid_type,expected:B.array,received:n.parsedType}),G;if(n.data.length<this._def.items.length)return J(n,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),G;!this._def.rest&&n.data.length>this._def.items.length&&(J(n,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new ue(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Y.mergeArray(t,e))):Y.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new He({...this._def,rest:e})}}He.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new He({items:e,typeName:ht.ZodTuple,rest:null,...le(t)})};class Je extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==B.map)return J(n,{code:U.invalid_type,expected:B.map,received:n.parsedType}),G;const r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:r._parse(new ue(n,e,n.path,[i,"key"])),value:a._parse(new ue(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return G;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return G;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}Je.create=(e,t,n)=>new Je({valueType:t,keyType:e,typeName:ht.ZodMap,...le(n)});class Ye extends he{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==B.set)return J(n,{code:U.invalid_type,expected:B.set,received:n.parsedType}),G;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(J(n,{code:U.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(J(n,{code:U.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return G;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>a._parse(new ue(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>i(e))):i(s)}min(e,t){return new Ye({...this._def,minSize:{value:e,message:se.toString(t)}})}max(e,t){return new Ye({...this._def,maxSize:{value:e,message:se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ye.create=(e,t)=>new Ye({valueType:e,minSize:null,maxSize:null,typeName:ht.ZodSet,...le(t)});class Ge extends he{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ge.create=(e,t)=>new Ge({getter:e,typeName:ht.ZodLazy,...le(t)});class Xe extends he{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return J(t,{received:t.data,code:U.invalid_literal,expected:this._def.value}),G}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Qe(e,t){return new et({values:e,typeName:ht.ZodEnum,...le(t)})}Xe.create=(e,t)=>new Xe({value:e,typeName:ht.ZodLiteral,...le(t)});class et extends he{constructor(){super(...arguments),oe.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{expected:t.joinValues(r),received:n.parsedType,code:U.invalid_type}),G}if(ae(this,oe)||ie(this,oe,new Set(this._def.values)),!ae(this,oe).has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return J(t,{received:t.data,code:U.invalid_enum_value,options:n}),G}return Q(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return et.create(e,{...this._def,...t})}exclude(e,t=this._def){return et.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}oe=new WeakMap,et.create=Qe;class tt extends he{constructor(){super(...arguments),de.set(this,void 0)}_parse(e){const n=t.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==B.string&&r.parsedType!==B.number){const e=t.objectValues(n);return J(r,{expected:t.joinValues(e),received:r.parsedType,code:U.invalid_type}),G}if(ae(this,de)||ie(this,de,new Set(t.getValidEnumValues(this._def.values))),!ae(this,de).has(e.data)){const e=t.objectValues(n);return J(r,{received:r.data,code:U.invalid_enum_value,options:e}),G}return Q(e.data)}get enum(){return this._def.values}}de=new WeakMap,tt.create=(e,t)=>new tt({values:e,typeName:ht.ZodNativeEnum,...le(t)});class nt extends he{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==B.promise&&!1===t.common.async)return J(t,{code:U.invalid_type,expected:B.promise,received:t.parsedType}),G;const n=t.parsedType===B.promise?t.data:Promise.resolve(t.data);return Q(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}nt.create=(e,t)=>new nt({type:e,typeName:ht.ZodPromise,...le(t)});class rt extends he{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:e=>{J(r,e),e.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===a.type){const e=a.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===n.value)return G;const t=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===t.status?G:"dirty"===t.status||"dirty"===n.value?X(t.value):t}));{if("aborted"===n.value)return G;const t=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===t.status?G:"dirty"===t.status||"dirty"===n.value?X(t.value):t}}if("refinement"===a.type){const e=e=>{const t=a.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const t=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===t.status?G:("dirty"===t.status&&n.dirty(),e(t.value),{status:n.value,value:t.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((t=>"aborted"===t.status?G:("dirty"===t.status&&n.dirty(),e(t.value).then((()=>({status:n.value,value:t.value}))))))}if("transform"===a.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ne(e))return e;const t=a.transform(e.value,i);if(t instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:t}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>ne(e)?Promise.resolve(a.transform(e.value,i)).then((e=>({status:n.value,value:e}))):e))}t.assertNever(a)}}rt.create=(e,t,n)=>new rt({schema:e,typeName:ht.ZodEffects,effect:t,...le(n)}),rt.createWithPreprocess=(e,t,n)=>new rt({schema:t,effect:{type:"preprocess",transform:e},typeName:ht.ZodEffects,...le(n)});class at extends he{_parse(e){return this._getType(e)===B.undefined?Q(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}at.create=(e,t)=>new at({innerType:e,typeName:ht.ZodOptional,...le(t)});class it extends he{_parse(e){return this._getType(e)===B.null?Q(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}it.create=(e,t)=>new it({innerType:e,typeName:ht.ZodNullable,...le(t)});class st extends he{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===B.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}st.create=(e,t)=>new st({innerType:e,typeName:ht.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...le(t)});class ot extends he{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return re(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new F(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new F(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ot.create=(e,t)=>new ot({innerType:e,typeName:ht.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...le(t)});class dt extends he{_parse(e){if(this._getType(e)!==B.nan){const t=this._getOrReturnCtx(e);return J(t,{code:U.invalid_type,expected:B.nan,received:t.parsedType}),G}return{status:"valid",value:e.data}}}dt.create=e=>new dt({typeName:ht.ZodNaN,...le(e)});class ut extends he{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class ct extends he{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?G:"dirty"===e.status?(t.dirty(),X(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?G:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new ct({in:e,out:t,typeName:ht.ZodPipeline})}}class lt extends he{_parse(e){const t=this._def.innerType._parse(e),n=e=>(ne(e)&&(e.value=Object.freeze(e.value)),e);return re(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}var ht;lt.create=(e,t)=>new lt({innerType:e,typeName:ht.ZodReadonly,...le(t)}),Fe.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ht||(ht={}));const pt=Ze.create,mt=Ne.create;dt.create,Pe.create;const ft=je.create;Me.create,Re.create,Le.create,Ae.create,$e.create,De.create,ze.create,Be.create,Ve.create;const vt=Fe.create;Fe.strictCreate,Ke.create,We.create,He.create,Je.create,Ye.create,Ge.create,Xe.create;const gt=et.create;tt.create,nt.create,rt.create,at.create,it.create,rt.createWithPreprocess,ct.create;const _t=vt({application:gt(["hydrogen","storefront-renderer"]),shopId:mt(),renderRegion:pt().optional(),pageType:pt().optional(),seoBot:ft().optional(),humannessScore:mt().optional(),ja3Fingerprint:pt().optional(),themeInstanceId:mt().optional(),storefrontId:mt().optional()}).refine((e=>void 0!==e.themeInstanceId||void 0!==e.storefrontId),{message:"Either `themeInstanceId` or `storefrontId` must be defined"}),yt=10,kt=vt({monorailRegion:gt(["shop_domain","global","staging","canada"]).optional(),resourceTimingSamplingRate:mt().min(yt).max(100).optional(),spaMode:ft().optional()});const xt=Object.freeze({shop_domain:`${window.location.origin}/.well-known/shopify/monorail/v1/produce`,global:"https://monorail-edge.shopifysvc.com/v1/produce",canada:"https://monorail-edge-ca.shopifycloud.com/v1/produce",staging:"https://monorail-edge-staging.shopifycloud.com/v1/produce"});var bt;function wt({monorailRegion:e,schema:t,rawData:n}){const r=Date.now(),a={schema_id:t,payload:t===bt.OnUnload?Tt(n):(i=n,{url:i.url,page_type:i.pageType,shop_id:i.shopId,application:i.application,storefront_id:i.storefrontId,theme_instance_id:i.themeInstanceId,session_token:i.sessionToken,unique_token:i.uniqueToken,micro_session_id:i.microSessionId,micro_session_count:i.microSessionCount,interaction_to_next_paint:i.interactionToNextPaint,interaction_to_next_paint_target:i.interactionToNextPaintTarget,seo_bot:i.seoBot,humanness_score:i.humannessScore,ja3_fingerprint:i.ja3Fingerprint,referrer:i.referrer,worker_start:i.workerStart,next_hop_protocol:i.nextHopProtocol,navigation_bad:i.navigationBad}),metadata:{event_created_at_ms:r,event_sent_at_ms:r}};var i;try{const t=xt[e||""];if(!t)return void console.debug("📡 Monorail: ",JSON.stringify(a,null,2));if("function"!=typeof window.navigator.sendBeacon||"function"!=typeof window.Blob||function(){const{userAgent:e}=window.navigator;return-1!==e.lastIndexOf("iPhone; CPU iPhone OS 12_")||-1!==e.lastIndexOf("iPad; CPU OS 12_")}()){const e=new XMLHttpRequest;e.open("POST",t),e.setRequestHeader("Content-type","text/plain"),e.send(JSON.stringify(a))}else{const e=new window.Blob([JSON.stringify(a)],{type:"text/plain"});window.navigator.sendBeacon(t,e)}}catch(e){}}function Tt(e){const t=["domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","firstPaint","visuallyReady","initiatorType","redirectCount"].reduce(((t,n)=>{var r;return e[n]&&(t[(r=n,r.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`)))]=e[n]||null),t}),{});return{perf_kit_init:e.perfKitInit,perf_kit_version:e.perfKitVersion,url:e.url,page_type:e.pageType,shop_id:e.shopId,application:e.application,storefront_id:e.storefrontId,theme_instance_id:e.themeInstanceId,session_token:e.sessionToken,unique_token:e.uniqueToken,micro_session_id:e.microSessionId,micro_session_count:e.microSessionCount,cumulative_layout_shift:e.cumulativeLayoutShift,cumulative_layout_shift_target:e.cumulativeLayoutShiftTarget,first_contentful_paint:e.firstContentfulPaint,largest_contentful_paint:e.largestContentfulPaint,largest_contentful_paint_target:e.largestContentfulPaintTarget,seo_bot:e.seoBot,humanness_score:e.humannessScore,ja3_fingerprint:e.ja3Fingerprint,navigation_start:e.navigationStart,navigation_type:e.navigationType,navigation_bad:e.navigationBad,encoded_body_size:e.encodedBodySize,decoded_body_size:e.decodedBodySize,transfer_size:e.transferSize,response_start:e.responseStart,response_end:e.responseEnd,worker_start:e.workerStart,connect_start:e.connectStart,connect_end:e.connectEnd,domain_lookup_start:e.domainLookupStart,domain_lookup_end:e.domainLookupEnd,fetch_start:e.fetchStart,redirect_start:e.redirectStart,redirect_end:e.redirectEnd,request_start:e.requestStart,secure_connection_start:e.secureConnectionStart,next_hop_protocol:e.nextHopProtocol,server_timing:e.serverTiming,paint_timing_hidden:e.paintTimingHidden,referrer:e.referrer,render_region:e.renderRegion,resource_timing:e.resourceTiming,other_metrics:JSON.stringify(t)}}!function(e){e.OnInteraction="perf_kit_on_interaction/3.0",e.OnUnload="perf_kit_on_unload/3.0"}(bt||(bt={}));const St="https://cdn.shopify.com/shopifycloud/privacy-banner/storefront-banner.js",Ct="https://cdn.shopify.com/shopifycloud/consent-tracking-api/v0.1/consent-tracking-api.js";async function Et(){try{return Array.from(document.scripts).some((e=>e.src===St||e.src===Ct))?Promise.resolve(!0):await new Promise(((e,t)=>{const n=document.createElement("script");n.type="text/javascript",n.src=Ct,n.onload=()=>{e(!0)},n.onerror=()=>{t(new Error("Could not load consent script"))},document.head.appendChild(n)}))}catch(e){}return Promise.resolve(!1)}const Ot="xxxx-4xxx-xxxx-xxxxxxxxxxxx";function Zt(){let e="";try{const t=window.crypto,n=new Uint16Array(31);t.getRandomValues(n);let r=0;e=Ot.replace(/[x]/g,(e=>{const t=n[r]%16;return r++,("x"===e?t:3&t|8).toString(16)})).toUpperCase()}catch(t){e=Ot.replace(/[x]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})).toUpperCase()}return`${function(){let e=0,t=0;e=(new Date).getTime()>>>0;try{t=performance.now()>>>0}catch(e){t=0}return Math.abs(e+t).toString(16).toLowerCase().padStart(8,"0")}()}-${e}`}let It=!0,Nt=!1,Pt=null;class jt{info;userProvidedMonorailData;userProvidedMonorailMetadataData;performanceMetrics;constructor(e,t){const n=/_shopify_s=([^;]*)/.exec(document.cookie),r=n?n[1]:void 0,a=/_shopify_y=([^;]*)/.exec(document.cookie),i=a?a[1]:void 0;this.userProvidedMonorailData=e,this.userProvidedMonorailMetadataData=t,this.info={perfKitInit:Date.now(),perfKitVersion:"0.0.1-alpha.0",url:window.location.href,referrer:document.referrer||void 0,microSessionId:Zt(),microSessionCount:0,sessionToken:r,uniqueToken:i},this.performanceMetrics=function(e){const t=performance.getEntriesByType("navigation");if(0===t.length)return{};const n=t[0];let r=!1;return(n.requestStart&&n.startTime&&n.requestStart<n.startTime||n.responseStart&&n.startTime&&n.responseStart<n.startTime||n.responseStart&&n.fetchStart&&n.responseStart<n.fetchStart||n.startTime&&n.fetchStart<n.startTime||n.responseEnd&&n.responseEnd>e+864e5)&&(r=!0),{encodedBodySize:n.encodedBodySize,decodedBodySize:n.decodedBodySize,navigationStart:Math.round(n.startTime),navigationType:n.type,navigationBad:r,responseStart:Math.round(n.responseStart),responseEnd:Math.round(n.responseEnd),workerStart:Math.round(n.workerStart),connectStart:Math.round(n.connectStart),connectEnd:Math.round(n.connectEnd),domainLookupStart:Math.round(n.domainLookupStart),domainLookupEnd:Math.round(n.domainLookupEnd),fetchStart:Math.round(n.fetchStart),redirectStart:Math.round(n.redirectStart),redirectEnd:Math.round(n.redirectEnd),requestStart:Math.round(n.requestStart),secureConnectionStart:Math.round(n.secureConnectionStart),nextHopProtocol:n.nextHopProtocol,serverTiming:JSON.stringify(n.serverTiming),domInteractive:Math.round(n.domInteractive),domComplete:Math.round(n.domComplete),domContentLoadedEventStart:Math.round(n.domContentLoadedEventStart),domContentLoadedEventEnd:Math.round(n.domContentLoadedEventEnd),redirectCount:n.redirectCount,initiatorType:n.initiatorType,transferSize:n.transferSize}}(this.info.perfKitInit),async function(){const{Shopify:e}=window;e&&e.customerPrivacy||await Et()}()}}const Mt=new Set;function Rt(){if(null!==Pt){if($t()&&Mt.size>0){let e={};for(const t of Mt)e={...e,...t};Mt.clear(),Pt.info.microSessionCount+=1;const t=function(e){if(!(100*Math.random()>(e||yt)))return performance.getEntriesByType("resource").map((e=>{const t=Object.entries(e.toJSON()).map((([e,t])=>"number"==typeof t?[e,Math.round(t)]:[e,t]));return JSON.stringify(Object.fromEntries(t))}))}(Pt.userProvidedMonorailMetadataData.resourceTimingSamplingRate);wt({monorailRegion:Pt.userProvidedMonorailMetadataData.monorailRegion,schema:bt.OnUnload,rawData:{...Pt.info,...Pt.userProvidedMonorailData,...Pt.performanceMetrics,...e,resourceTiming:t}})}}else console.debug("⛔️ Shopify/perf-kit is not initialized")}var Lt,At;function $t(){return window?.Shopify?.customerPrivacy?.analyticsProcessingAllowed()}Lt=function(e){const{attribution:t,value:n}=e;Mt.add({cumulativeLayoutShift:n,cumulativeLayoutShiftTarget:t.largestShiftTarget})},function(e,t){t=t||{},S(v((function(){var n,r=l("CLS",0),a=0,i=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];a&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,i.push(e)):(a=e.value,i=[e])}})),a>r.value&&(r.value=a,r.entries=i,n())},o=h("layout-shift",s);o&&(n=p(e,r,C,t.reportAllChanges),f((function(){s(o.takeRecords()),n(!0)})),u((function(){a=0,r=l("CLS",0),n=p(e,r,C,t.reportAllChanges),m((function(){return n()}))})),setTimeout(n,0))})))}((function(e){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(r=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||r[0];if(n)return void(e.attribution={largestShiftTarget:s(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:a(t.startTime)})}}var r;e.attribution={}}(e),Lt(e)}),At),function(e,t){!function(e,t){t=t||{},w((function(){var n,r=b(),a=l("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(a.value=Math.max(t.startTime-c(),0),a.entries=[t],n())},s=h("largest-contentful-paint",i);if(s){n=p(e,a,D,t.reportAllChanges);var o=v((function(){z[a.id]||(i(s.takeRecords()),s.disconnect(),z[a.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(o,0)}),!0)})),f(o),u((function(r){a=l("LCP"),n=p(e,a,D,t.reportAllChanges),m((function(){a.value=performance.now()-r.timeStamp,z[a.id]=!0,n(!0)}))}))}}))}((function(t){!function(e){if(e.entries.length){var t=r();if(t){var n=t.activationStart||0,a=e.entries[e.entries.length-1],i=a.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===a.url}))[0],o=Math.max(0,t.responseStart-n),d=Math.max(o,i?(i.requestStart||i.startTime)-n:0),u=Math.max(d,i?i.responseEnd-n:0),c=Math.max(u,a?a.startTime-n:0),l={element:s(a.element),timeToFirstByte:o,resourceLoadDelay:d-o,resourceLoadTime:u-d,elementRenderDelay:c-u,navigationEntry:t,lcpEntry:a};return a.url&&(l.url=a.url),i&&(l.lcpResourceEntry=i),void(e.attribution=l)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(t),e(t)}),t)}((function(e){const{attribution:t,value:n}=e;Mt.add({largestContentfulPaint:Math.round(n),largestContentfulPaintTarget:t.element})})),function(e,t){S((function(t){!function(e){if(e.entries.length){var t=r(),n=e.entries[e.entries.length-1];if(t){var i=t.activationStart||0,s=Math.max(0,t.responseStart-i);return void(e.attribution={timeToFirstByte:s,firstByteToFCP:e.value-s,loadState:a(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:a(d())}}(t),e(t)}),t)}((function(e){const{value:t}=e;Mt.add({firstContentfulPaint:Math.round(t)})})),function(e,t){!function(e,t){t=t||{},w((function(){var n;P();var r,a=l("INP"),i=function(e){e.forEach((function(e){e.interactionId&&$(e),"first-input"===e.entryType&&!L.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&$(e)}));var t,n=(t=Math.min(L.length-1,Math.floor(R()/50)),L[t]);n&&n.latency!==a.value&&(a.value=n.latency,a.entries=n.entries,r())},s=h("event",i,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=p(e,a,j,t.reportAllChanges),s&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),f((function(){i(s.takeRecords()),a.value<0&&R()>0&&(a.value=0,a.entries=[]),r(!0)})),u((function(){L=[],M=N(),a=l("INP"),r=p(e,a,j,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0],n=e.entries.find((function(e){return e.target}));e.attribution={eventTarget:s(n&&n.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:a(t.startTime)}}else e.attribution={}}(t),e(t)}),t)}((function(e){const{attribution:t,value:n}=e;null!==Pt?$t()&&(Pt.info.microSessionCount+=1,wt({monorailRegion:Pt.userProvidedMonorailMetadataData.monorailRegion,schema:bt.OnInteraction,rawData:{...Pt.info,...Pt.userProvidedMonorailData,...Pt.performanceMetrics,interactionToNextPaint:Math.round(n),interactionToNextPaintTarget:t.eventTarget}})):console.debug("⛔️ Shopify/perf-kit is not initialized")}),{reportAllChanges:!0}),addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&Rt()})),function(){const{dataset:e}=document.currentScript,t={application:e.application,shopId:Number(e.shopId),renderRegion:e.renderRegion,pageType:e.pageType,seoBot:"true"===e.seoBot,humannessScore:Number(e.humannessScore)||void 0,ja3Fingerprint:e.ja3Fingerprint};e.themeInstanceId?t.themeInstanceId=Number(e.themeInstanceId):e.storefrontId&&(t.storefrontId=Number(e.storefrontId));const n={monorailRegion:e.monorailRegion,resourceTimingSamplingRate:Number(e.resourceTimingSamplingRate)||void 0,spaMode:"true"===e.spaMode};try{r=function(e){return _t.parse(e)}(t),a=function(e){return kt.parse(e)}(n),Pt=new jt(r,a),a.spaMode&&(window.PerfKit={navigate:()=>{It?It=!1:Nt||(Rt(),Pt=new jt(r,a),Nt=!0)},setPageType:e=>{r.pageType=e}})}catch(e){console.error("🚫 Error initializing PerfKit:",e.message)}var r,a}()}();
